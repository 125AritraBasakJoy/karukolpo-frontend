<div class="page-wrapper">
  <div class="track-order-container">
    <div class="search-section">
      <h2>Track Your Order</h2>
      <div class="p-inputgroup w-full md:w-30rem mx-auto mb-3">
        <input type="text" pInputText placeholder="Enter Order ID or Phone Number" [(ngModel)]="orderId"
          (keyup.enter)="trackOrder()">
        <button type="button" pButton icon="pi pi-search" label="Track" (click)="trackOrder()"></button>
      </div>
      <div class="text-center">
        <p-button label="Back to Home" icon="pi pi-arrow-left" [text]="true" (onClick)="goBack()"></p-button>
      </div>
    </div>



    <div *ngIf="loading()" class="flex justify-content-center my-5">
      <p-progressSpinner ariaLabel="loading"></p-progressSpinner>
    </div>

    <div *ngIf="order() && !loading()" class="order-details mt-5">
      <p-card>
        <div class="grid">
          <div class="col-12 md:col-6">
            <h3>Order Status: <span [class]="'status-' + order()?.status?.toLowerCase()">{{ order()?.status }}</span>
            </h3>
            <p><strong>Order ID:</strong> {{ order()?.id }}</p>
            <p><strong>Date:</strong> {{ order()?.orderDate | date:'medium' }}</p>
            <p><strong>Total Amount:</strong> {{ order()?.totalAmount | currency:'BDT':'symbol-narrow' }}</p>
          </div>
          <div class="col-12 md:col-6">
            <h3>Shipping Details</h3>
            <p>{{ order()?.fullName }}</p>
            <p>{{ order()?.fullAddress }}</p>
            <p>{{ order()?.district }} - {{ order()?.postalCode }}</p>
            <p>{{ order()?.phoneNumber }}</p>
          </div>
        </div>

        <div class="mt-4">
          <h3>Items</h3>
          <ul>
            <li *ngFor="let item of order()?.items">
              {{ item.quantity }}x {{ item.product.name }} - {{ item.product.price | currency:'BDT':'symbol-narrow' }}
            </li>
          </ul>
        </div>
      </p-card>
    </div>
  </div>
</div>
<p-toast></p-toast>